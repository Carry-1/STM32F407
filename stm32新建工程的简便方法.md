**1.**先从例程里面复制一份自己需要的工程，再在USER文件夹下面新建一个文件夹（用于存放驱动程序），例如led文件夹，再在led文件夹下面新建led.c文件和led.h文件。    
**2.**将新建的驱动程序添加到工程里面：用keil软件打开刚刚自己复制的工程，在侧边栏的USER文件夹下将自己新建的led.c和led.h文件"add"进去，不add led.h文件也行，在编译之后它会自动被添加进去   
**3.**在led.h文件开头写条件编译，使得在led.h文件中声明的函数可以被多个文件调用
   再包含"stm32f4xx.h"文件（寄存器映射头文件），再在led.c文件中将它自己的头文件包含进去   
**4.**在魔术棒的C/C++选项的 include paths 路径中将led.h所在的路径包含进去，负责编译时找不到这个头文件（当然，也可以用直接路径, 即“./key/led.h”）